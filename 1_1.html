<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
<title>Advent of code - Day 1</title>
</head>

<body>
    <p>--- Day 1: Sonar Sweep ---
        <br>
        As the submarine drops below the surface of the ocean, it automatically performs a sonar sweep of the nearby sea floor. On a small screen, the sonar sweep report (your puzzle input) appears: each line is a measurement of the sea floor depth as the sweep looks further and further away from the submarine.
        <br>
        For example, suppose you had the following report:
        <br>
        199
        200
        208
        210
        200
        207
        240
        269
        260
        263
        <br>
        This report indicates that, scanning outward from the submarine, the sonar sweep found depths of 199, 200, 208, 210, and so on.
        <br>
        The first order of business is to figure out how quickly the depth increases, just so you know what you're dealing with - you never know if the keys will get carried into deeper water by an ocean current or a fish or something.
        <br>
        To do this, count the number of times a depth measurement increases from the previous measurement. (There is no measurement before the first measurement.) In the example above, the changes are as follows:
        <br>
        199 (N/A - no previous measurement)
        200 (increased)
        208 (increased)
        210 (increased)
        200 (decreased)
        207 (increased)
        240 (increased)
        269 (increased)
        260 (decreased)
        263 (increased)
        <br>
        In this example, there are 7 measurements that are larger than the previous measurement.
        <br>
        How many measurements are larger than the previous measurement?
    </p>
    <br>
    <input id="file" type="file" />
    <button id="button" class="favorite styled" type="button" onclick="decembre()">Lancer le programme</button>
</body>

<script>
let file = document.getElementById("file");
let doc = "";
file.onchange = function() {
    let reader = new FileReader();
    reader.onload = function(event) {
        doc = reader.result;
    }
    reader.readAsText(file.files[0]);
}

function decembre() {
    document.getElementById("button").disabled = true;
    doc = doc.split("\r\n");
    let counter = 0;
    for (let i=1; i<doc.length; i++) {
        if (parseInt(doc[i]) > parseInt(doc[i-1]) {
            counter++;
            //console.log(counter+": "+doc[i]+">"+doc[i-1]);
        }
    }
    console.log(counter);
}
</script>

<style>
.styled {
    border: 0;
    line-height: 2.5;
    padding: 0 20px;
    font-size: 1rem;
    text-align: center;
    color: #fff;
    text-shadow: 1px 1px 1px #000;
    border-radius: 10px;
    background-color: rgba(220, 0, 0, 1);
    background-image: linear-gradient(to top left,
                                      rgba(0, 0, 0, .2),
                                      rgba(0, 0, 0, .2) 30%,
                                      rgba(0, 0, 0, 0));
    box-shadow: inset 2px 2px 3px rgba(255, 255, 255, .6),
                inset -2px -2px 3px rgba(0, 0, 0, .6);
}

.styled:hover {
    background-color: rgba(255, 0, 0, 1);
}

.styled:active {
    box-shadow: inset -2px -2px 3px rgba(255, 255, 255, .6),
                inset 2px 2px 3px rgba(0, 0, 0, .6);
}

</style>
</html>